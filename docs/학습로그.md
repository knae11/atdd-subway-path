# 1-1 학습로그

# [Test] Service Test

## Service layer Test
- Mock
    - Mockito 사용가능
    - `@ExtendWith(MockitoExtension.class)`로 Mockito 환경설정
    - `@InjectMocks`로 mock 객체를 주입할 클래스를 설정
    - `@Mock`로 mock 으로 사용할 클래스를 설정
    - `given(~~~).willReturn()`으로 어떠한 mock 객체 메소드 실행시 리턴값 설정가능
- TestFixture 
    - `@SpringBootTest`로 스프링에 등록된 빈을 가져와서 사용 가능
    - `@ActiveProfiles("test")`로 테스트 환경설정 가능
    - TestEnvironment
    - `@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)`
    - 기본 테스트 환경은 MOCK 으로 내장톰캣을 구동하지 않고 mocking 한 컨테이너가 뜬다.
    - RANDOM_PORT, DEFINED_PORT: 내장톰캣을 구동 
    - `@DirtiesContext(classMode = DirtiesContext.ClassMode.BEFORE_EACH_TEST_METHOD)`
    - 스프링 환경을 새롭게 하는 어노테이션으로 ClassMode, MethodMode 를 설정할 수 있다.
    
## 태그
- 서비스레이어 테스트

# [Spring] 환경설정

## 환경설정
- `-test` 등으로 환경 설정 파일을 다르게 줄 수 있음
- `@Profiles("~~")` 해당 설정파일에 해당될 경우에만 빈으로 등록됨
- `@ActiveProfiles("test")` 테스트할 경우 프로파일을 설정 가능
- 특정 설정이 없다면 기본으로는 `application.properties` 또는 `application.yml`이 기본 설정 파일으로 잡힘

## 태그
- 스프링, 환경설정
